<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0107)http://www.jspsmart.com/scripts/showsource/showsource.asp?VPATH=/scripts/demo/jspSmartUpload/en/sample7.jsp -->
<HTML><HEAD>
<META http-equiv=Content-Type content="text/html; charset=windows-1252">
<META content="MSHTML 6.00.2462.0" name=GENERATOR></HEAD>
<BODY><PRE><CODE>&lt;%@&nbsp;page&nbsp;language="java"&nbsp;import="java.sql.*,com.jspsmart.upload.*"%&gt;&lt;jsp:useBean&nbsp;id="mySmartUpload"&nbsp;scope="page"&nbsp;class="com.jspsmart.upload.SmartUpload"&nbsp;/&gt;&lt;% <BR> <BR> <BR>	//&nbsp;Connect&nbsp;to&nbsp;the&nbsp;database <BR>	Class.forName("org.gjt.mm.mysql.Driver").newInstance(); <BR>	Connection&nbsp;con&nbsp;=&nbsp;DriverManager.getConnection("jdbc:mysql:///test"); <BR> <BR>	//&nbsp;SQL&nbsp;Request <BR>	Statement&nbsp;stmt&nbsp;=&nbsp;con.createStatement(); <BR>	ResultSet&nbsp;rs&nbsp;=&nbsp;stmt.executeQuery("SELECT&nbsp;*&nbsp;FROM&nbsp;TFILES"); <BR> <BR>	//&nbsp;if&nbsp;the&nbsp;resultset&nbsp;is&nbsp;not&nbsp;null <BR>	if&nbsp;(rs.next()){ <BR> <BR>		//&nbsp;Initialization <BR>		mySmartUpload.initialize(pageContext); <BR>	 <BR>		//&nbsp;Download&nbsp;field <BR>		mySmartUpload.downloadField(rs,"FILE","application/x-msdownload",&nbsp;"sample7.txt"); <BR> <BR>		//&nbsp;Field&nbsp;To&nbsp;File <BR>		//&nbsp;mySmartUpload.fieldToFile(rs,"FILE","c:\\temp\\sample7.txt"); <BR> <BR>	} <BR> <BR>	rs.close(); <BR>	stmt.close(); <BR>	con.close(); <BR> <BR>%&gt; <BR></CODE></PRE></BODY></HTML>
