<HTML><BODY><PRE><CODE>&lt;%@&nbsp;page&nbsp;language=&quot;java&quot;&nbsp;import=&quot;com.jspsmart.upload.*&quot;%&gt; <BR>&lt;jsp:useBean&nbsp;id=&quot;mySmartUpload&quot;&nbsp;scope=&quot;page&quot;&nbsp;class=&quot;com.jspsmart.upload.SmartUpload&quot;&nbsp;/&gt; <BR> <BR>&lt;HTML&gt; <BR>&lt;BODY&nbsp;BGCOLOR=&quot;white&quot;&gt; <BR> <BR>&lt;H1&gt;jspSmartUpload&nbsp;:&nbsp;Sample&nbsp;2&lt;/H1&gt; <BR>&lt;HR&gt; <BR> <BR>&lt;% <BR>	 <BR>	//&nbsp;Variables <BR>	int&nbsp;count=0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <BR> <BR>	//&nbsp;Initialization <BR>	mySmartUpload.initialize(pageContext); <BR> <BR>	//&nbsp;Upload	 <BR>	mySmartUpload.upload(); <BR> <BR>	//&nbsp;Select&nbsp;each&nbsp;file <BR>	for&nbsp;(int&nbsp;i=0;i&lt;mySmartUpload.getFiles().getCount();i++){ <BR> <BR>		//&nbsp;Retreive&nbsp;the&nbsp;current&nbsp;file <BR>		com.jspsmart.upload.File&nbsp;myFile&nbsp;=&nbsp;mySmartUpload.getFiles().getFile(i); <BR> <BR>		//&nbsp;Save&nbsp;it&nbsp;only&nbsp;if&nbsp;this&nbsp;file&nbsp;exists <BR>		if&nbsp;(!myFile.isMissing())&nbsp;{ <BR> <BR>			//&nbsp;Save&nbsp;the&nbsp;files&nbsp;with&nbsp;its&nbsp;original&nbsp;names&nbsp;in&nbsp;a&nbsp;virtual&nbsp;path&nbsp;of&nbsp;the&nbsp;web&nbsp;server&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <BR>			myFile.saveAs(&quot;/upload/&quot;&nbsp;+&nbsp;myFile.getFileName()); <BR>			//&nbsp;myFile.saveAs(&quot;/upload/&quot;&nbsp;+&nbsp;myFile.getFileName(),&nbsp;mySmartUpload.SAVE_VIRTUAL); <BR> <BR>			//&nbsp;sample&nbsp;with&nbsp;a&nbsp;physical&nbsp;path <BR>			//&nbsp;myFile.saveAs(&quot;c:\\temp\\&quot;&nbsp;+&nbsp;myFile.getFileName(),&nbsp;mySmartUpload.SAVE_PHYSICAL); <BR> <BR>			//&nbsp;&nbsp;Display&nbsp;the&nbsp;properties&nbsp;of&nbsp;the&nbsp;current&nbsp;file <BR>			out.println(&quot;FieldName&nbsp;=&nbsp;&quot;&nbsp;+&nbsp;myFile.getFieldName()&nbsp;+&nbsp;&quot;&lt;BR&gt;&quot;); <BR>			out.println(&quot;Size&nbsp;=&nbsp;&quot;&nbsp;+&nbsp;myFile.getSize()&nbsp;+&nbsp;&quot;&lt;BR&gt;&quot;); <BR>			out.println(&quot;FileName&nbsp;=&nbsp;&quot;&nbsp;+&nbsp;myFile.getFileName()&nbsp;+&nbsp;&quot;&lt;BR&gt;&quot;); <BR>			out.println(&quot;FileExt&nbsp;=&nbsp;&quot;&nbsp;+&nbsp;myFile.getFileExt()&nbsp;+&nbsp;&quot;&lt;BR&gt;&quot;); <BR>			out.println(&quot;FilePathName&nbsp;=&nbsp;&quot;&nbsp;+&nbsp;myFile.getFilePathName()&nbsp;+&nbsp;&quot;&lt;BR&gt;&quot;); <BR>			out.println(&quot;ContentType&nbsp;=&nbsp;&quot;&nbsp;+&nbsp;myFile.getContentType()&nbsp;+&nbsp;&quot;&lt;BR&gt;&quot;); <BR>			out.println(&quot;ContentDisp&nbsp;=&nbsp;&quot;&nbsp;+&nbsp;myFile.getContentDisp()&nbsp;+&nbsp;&quot;&lt;BR&gt;&quot;); <BR>			out.println(&quot;TypeMIME&nbsp;=&nbsp;&quot;&nbsp;+&nbsp;myFile.getTypeMIME()&nbsp;+&nbsp;&quot;&lt;BR&gt;&quot;); <BR>			out.println(&quot;SubTypeMIME&nbsp;=&nbsp;&quot;&nbsp;+&nbsp;myFile.getSubTypeMIME()&nbsp;+&nbsp;&quot;&lt;BR&gt;&quot;); <BR> <BR>			count&nbsp;++; <BR> <BR>		} <BR> <BR>	} <BR> <BR>	//&nbsp;Display&nbsp;the&nbsp;number&nbsp;of&nbsp;files&nbsp;which&nbsp;could&nbsp;be&nbsp;uploaded&nbsp; <BR>	out.println(&quot;&lt;BR&gt;&quot;&nbsp;+&nbsp;mySmartUpload.getFiles().getCount()&nbsp;+&nbsp;&quot;&nbsp;files&nbsp;could&nbsp;be&nbsp;uploaded.&lt;BR&gt;&quot;); <BR> <BR>	//&nbsp;Display&nbsp;the&nbsp;number&nbsp;of&nbsp;files&nbsp;uploaded&nbsp; <BR>	out.println(count&nbsp;+&nbsp;&quot;&nbsp;file(s)&nbsp;uploaded.&quot;); <BR> <BR> <BR>%&gt; <BR>&lt;/BODY&gt; <BR>&lt;/HTML&gt; <BR></CODE></PRE></BODY></HTML>